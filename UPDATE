SET SQL_SAFE_UPDATES = 0;

UPDATE carros
SET cor = 'Branca'
WHERE cor = 'Branco';

UPDATE carros
SET cor = 'Vermelho'
WHERE marca = 'Ford' AND modelo = 'Mustang V8';

UPDATE carros
SET preco = preco * 1.08
WHERE tipo_combustivel = 'Diesel';

UPDATE funcionarios
JOIN loja l ON l.id_loja = 7
SET cargo = 'Vendedor SÃªnior'
WHERE cargo = 'Vendedor' AND id_funcionarios = 23;

UPDATE carros
JOIN (
    SELECT id_carros
    FROM carros
    GROUP BY id_carros
    HAVING AVG(preco) > 750000
) AS carros_luxo USING (id_carros)
SET carros.condicao = 'Luxo';

UPDATE carros
JOIN (
    SELECT id_carros
    FROM carros
    GROUP BY id_carros
    HAVING AVG(ano) < 2020
) AS car_ant USING (id_carros)
SET carros.condicao = 'Antigo';
